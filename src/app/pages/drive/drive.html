<div class="drive-page">
  <h2>Create a ride</h2>

  <div class="map-container">
    <form class="card">
      <label>From</label>
      <input #fromInput type="text" placeholder="Enter starting location" />

      <label>To</label>
      <input #toInput type="text" placeholder="Enter destination" />

      <label>When</label>
      <input type="datetime-local" [(ngModel)]="rideTime" name="rideTime" />

      <label>PassengerCount</label>
      <input #countInput type="number" placeholder="Number" />

      <button type="button" (click)="createRide()">Create ride</button>
    </form>

    <google-map [center]="center" [zoom]="zoom" class="map">
      @if (fromMarkerSet) {
        <map-marker [position]="fromMarker"></map-marker>
      }
      @if (toMarkerSet) {
        <map-marker [position]="toMarker"></map-marker>
      }
    </google-map>
  </div>

  <h2>My rides</h2>
  <div class="results">
    @for (ride of rides; track ride.id) {
      <app-ride-card [ride]="ride"></app-ride-card>
    }
    @if (rides.length == 0) {
      <p>No active rides are found.</p>
    }
  </div>

  @if (totalPages > 1) {
    <div class="pagination">
      <button [disabled]="currentPage === 0" (click)="loadPage(currentPage - 1)">Previous</button>
      <span>Page {{ currentPage + 1 }} of {{ totalPages }}</span>
      <button [disabled]="currentPage === totalPages - 1" (click)="loadPage(currentPage + 1)">Next</button>
    </div>
  }
</div>
